# Prompt 配置参考

**最后更新**: 2025-01-23
**配置文件**: `src/config/prompts.json`

---

## 快速查找

| Prompt Key | 名称 | 用途 |
|------------|------|------|
| `account_overview` | 账号概况分析 | 分析账号名称、类型、主题等 |
| `monthly_trend` | 月度趋势分析 | 识别账号发展阶段 |
| `viral_analysis` | 爆款视频分析 | 按类型分组并提取规律 |
| `topic_outline_generation` | 选题大纲生成 | 生成30条选题大纲 |
| `topic_detail_generation` | 选题详情生成 | 生成口播稿、分镜、案例 |

---

## 1. account_overview - 账号概况分析

### 用途
根据视频标题分析账号的基本信息，包括账号类型、核心主题、目标受众和变现方式。

### 变量

| 变量名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| `video_titles` | string | ✅ | 前30条视频标题，用换行符分隔 |

### Prompt 模板

```
你是专业的抖音账号分析师。请分析以下视频标题，生成账号概况报告。

【视频标题列表】（前30条）
{{video_titles}}

请严格按照以下JSON格式输出：
{
  "name": "账号昵称",
  "type": "账号类型",
  "coreTopic": "核心主题",
  "audience": "目标受众",
  "monetization": {
    "level1": "初级变现方式",
    "level2": "中级变现方式",
    "level3": "高级变现方式"
  }
}
```

### 输出格式

```json
{
  "name": "情感疗愈博主",
  "type": "情感类",
  "coreTopic": "原生家庭创伤疗愈与女性成长",
  "audience": "25-40岁女性，关注情感成长",
  "monetization": {
    "level1": "直播打赏",
    "level2": "知识付费",
    "level3": "IP孵化"
  }
}
```

### 修改建议

- 如需调整分析维度，修改 JSON 输出格式中的字段
- 如需调整分析样本量，修改前30条为其他数量

---

## 2. monthly_trend - 月度趋势分析

### 用途
分析月度数据和爆款视频，识别账号的发展阶段（探索期、调整期、回升期、爆发期、成熟期）。

### 变量

| 变量名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| `monthly_data` | string | ✅ | 月度统计数据 |
| `viral_data` | string | ✅ | 爆款视频数据 |

### Prompt 模板

```
你是专业的抖音数据分析师。请分析以下月度趋势数据，识别账号发展阶段（探索期/调整期/回升期/爆发期/成熟期）。

【月度数据】
{{monthly_data}}

【爆款视频】
{{viral_data}}

请严格按照以下JSON格式输出：
{
  "summary": "趋势总结（1-2句话）",
  "stages": [
    {"type": "探索期", "period": "2024-01至2024-03", "description": "..."},
    {"type": "调整期", "period": "2024-04至2024-06", "description": "..."}
  ]
}
```

### 输出格式

```json
{
  "summary": "账号经历了快速探索期后进入调整期，近期有回升迹象",
  "stages": [
    {
      "type": "探索期",
      "period": "2024-01至2024-03",
      "description": "高频发布，测试内容方向，互动稳步上升"
    }
  ]
}
```

### 修改建议

- 可调整发展阶段类型，修改括号中的类型列表
- 可调整总结长度，修改"1-2句话"

---

## 3. viral_analysis - 爆款视频分析

### 用途
分析爆款视频，按内容类型分组并提取共同规律。

### 变量

| 变量名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| `viral_videos` | string | ✅ | 爆款视频列表 |
| `threshold` | string | ✅ | 爆款判定阈值 |

### Prompt 模板

```
你是专业的抖音内容分析师。请分析以下爆款视频，按内容类型分组并提取规律。

【爆款视频列表】
{{viral_videos}}

【判定阈值】
{{threshold}}

请严格按照以下JSON格式输出：
{
  "summary": "爆款总结（2-3句话）",
  "byCategory": [
    {"category": "分类名称", "count": 5, "avgEngagement": 50000, "description": "特征描述"},
    {"category": "分类名称", "count": 3, "avgEngagement": 40000, "description": "特征描述"}
  ],
  "patterns": {
    "commonElements": "共同元素",
    "timingPattern": "时间规律",
    "titlePattern": "标题规律"
  }
}
```

### 输出格式

```json
{
  "summary": "爆款主要集中在原生家庭和情感关系类，口播形式为主",
  "byCategory": [
    {
      "category": "原生家庭/创伤疗愈",
      "count": 8,
      "avgEngagement": 85000,
      "description": "以个人故事切入，引发共鸣"
    }
  ],
  "patterns": {
    "commonElements": "个人故事+专业观点+行动建议",
    "timingPattern": "晚上21-23点发布效果最佳",
    "titlePattern": "多用问句和数字，制造悬念"
  }
}
```

### 修改建议

- 可调整分类维度，修改输出格式中的 category 相关描述

---

## 4. topic_outline_generation - 选题大纲生成

### 用途
根据账号信息生成30条爆款选题大纲（含分类和标题备选）。

### 变量

| 变量名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| `core_topic` | string | ✅ | 核心主题 |
| `account_type` | string | ✅ | 账号类型 |
| `audience` | string | ✅ | 目标受众 |
| `viral_categories` | string | ✅ | 爆款分类结果 |
| `viral_patterns` | string | ✅ | 爆款规律 |

### Prompt 模板

```
你是专业的抖音内容策划师。请根据以下账号信息，生成30条爆款选题大纲。

【账号核心主题】
{{core_topic}}

【账号类型】
{{account_type}}

【目标受众】
{{audience}}

【爆款分类】
{{viral_categories}}

【爆款规律】
{{viral_patterns}}

【任务要求】
请生成6大类共30条选题大纲，每类5条。分类建议：原生家庭/创伤疗愈、情感关系/认知觉醒、婚姻择偶/女性智慧、影视剧/情感解读、穿搭变美/生活方式、房产财富/商业认知。

【输出格式】
请严格按照以下JSON格式输出：
{
  "topics": [
    {"id": 1, "category": "原生家庭/创伤疗愈", "titles": ["本质句标题", "反常识标题", "清单承诺标题"]},
    {"id": 2, "category": "情感关系/认知觉醒", "titles": ["本质句标题", "反常识标题", "清单承诺标题"]}
  ]
}

【关键要点】
1. 必须生成完整的30条选题大纲
2. 每条大纲包含：id(1-30)、category、titles(3个)
3. 只返回JSON，不要任何解释或说明文字
```

### 输出格式

```json
{
  "topics": [
    {
      "id": 1,
      "category": "原生家庭/创伤疗愈",
      "titles": [
        "讨好型人格的本质不是善良，而是恐惧",
        "为什么你总爱上同一类人？答案藏在这里",
        "学会这3点，从讨好者变成被讨好者"
      ]
    }
  ]
}
```

### 修改建议

- **修改分类**: 修改"分类建议"部分的6大分类
- **修改标题类型**: 修改"本质句标题"、"反常识标题"、"清单承诺标题"的命名
- **调整选题数量**: 修改30条为其他数量，同时修改分类数量

---

## 5. topic_detail_generation - 选题详情生成

### 用途
为选题大纲生成完整的5段式口播稿、案例点位和分镜说明。

### 变量

| 变量名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| `core_topic` | string | ✅ | 核心主题 |
| `viral_patterns` | string | ✅ | 爆款规律 |
| `topic_outlines` | string | ✅ | 选题大纲列表 |

### Prompt 模板

```
你是专业的抖音内容策划师。请为以下选题大纲生成完整的脚本内容。

【账号核心主题】
{{core_topic}}

【爆款规律】
{{viral_patterns}}

【选题大纲列表】
{{topic_outlines}}

【任务要求】
为每条选题生成完整的5段式口播稿、案例点位和分镜说明。

【输出格式】
请严格按照以下JSON格式输出：
{
  "topics": [
    {
      "id": 1,
      "script": "...的本质不是...，而是...。你之所以...，是因为...。真正起作用的是...。记住三点：第一...；第二...；第三...。你把这三点用对，...会完全不一样。建议收藏，...翻出来看。",
      "storyboard": ["镜头1特写画面", "镜头2中景画面", "镜头3动作展示", "镜头4结尾画面"],
      "casePoint": "案例点位：在【场景】遇到【问题】，最后用这三步解决"
    }
  ]
}

【关键要点】
1. 口播稿严格遵循5段式结构：...的本质不是...，而是...。你之所以...，是因为...。真正起作用的是...。记住三点：第一...；第二...；第三...。你把这三点用对，...会完全不一样。建议收藏，...翻出来看。
2. 口播稿150-200字，简洁有力
3. 分镜说明清晰具体，4个镜头
4. 案例点位真实可信
5. 只返回JSON，不要任何解释或说明文字
```

### 输出格式

```json
{
  "topics": [
    {
      "id": 1,
      "script": "讨好型人格的本质不是善良，而是恐惧。你之所以总是不敢拒绝别人，是因为你把别人的需求看得比自己更重要。真正起作用的是你内心深处的安全感缺失。记住三点：第一学会说不需要理由；第二设立底线不妥协；第三把注意力放回自己身上。你把这三点用对，人际关系会完全不一样。建议收藏，下次被人情绑架时翻出来看。",
      "storyboard": [
        "镜头1：博主面带微笑坐在沙发上",
        "镜头2：切换到中景，配合手势动作",
        "镜头3：逐一列举三点，配合文字特效",
        "镜头4：结尾鼓励表情，引导点赞收藏"
      ],
      "casePoint": "案例点位：在同事让你帮忙加班时，先说'今晚有安排'，再说明具体原因，最后给出替代方案"
    }
  ]
}
```

### 修改建议

- **修改口播稿结构**: 修改5段式模板的文字结构
- **调整口播稿长度**: 修改150-200字的限制
- **调整分镜数量**: 修改4个镜头为其他数量
- **修改结尾话术**: 修改"建议收藏"等引导语

---

## 修改 Prompt 的步骤

1. **打开配置文件**: 编辑 `src/config/prompts.json`
2. **找到对应的 prompt_key**: 在 `prompts` 对象中找到要修改的 prompt
3. **修改 template 字段**: 修改 prompt 模板内容
4. **更新变量定义**: 如需新增变量，在 `variables` 中添加
5. **保存并重启**: 保存文件，无需重启（Next.js 会自动重新加载）

---

## 注意事项

1. **保持 JSON 格式正确**: 修改时注意 JSON 的引号、逗号、括号
2. **测试变量替换**: 修改后确认 `{{变量名}}` 格式正确
3. **验证输出格式**: 确保 AI 输出的 JSON 格式与代码中的解析一致
4. **版本控制**: 修改前建议备份原文件，方便回滚
